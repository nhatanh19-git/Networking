
| **Title** | 7.2. Ethernet MAC Address |
|:---------:|:--------------------------:|
| **ID**    | CCNET034                   |
| **Tag**   | CCNA, Cisco, NetAcad, Ethernet, MAC, Addressing |

# 7.2. Ethernet MAC Address

Trong phần này, chúng ta sẽ tìm hiểu về **địa chỉ MAC** – cách thức định danh các thiết bị trong mạng LAN ở tầng Data Link (OSI Layer 2). Nội dung bao gồm: cách biểu diễn địa chỉ MAC bằng hệ thập lục phân, cấu trúc địa chỉ MAC, cách xử lý khung Ethernet dựa trên MAC và ba loại địa chỉ: **Unicast, Broadcast, Multicast**.

---

## 7.2.1. MAC Address and Hexadecimal

- **IPv4** thường dùng hệ thập phân (decimal), **IPv6 và Ethernet** dùng hệ thập lục phân (hexadecimal).  
- **Hexadecimal (cơ số 16)**: gồm các ký tự từ `0–9` và `A–F`. Mỗi số hex đại diện cho **4 bit nhị phân** → một địa chỉ MAC 48-bit được biểu diễn bằng **12 ký tự hexa**.  

<p align="center">
  <img src="../../images/kì 1/module 7/7.2.1.jpg" width="400"/>
</p>

- Ví dụ:  
  - `0000` (binary) = `0` (decimal) = `0` (hex)  
  - `1111` (binary) = `15` (decimal) = `F` (hex)  

 Nhờ đó, địa chỉ MAC 48-bit (6 byte) có thể được viết gọn gàng thành dạng hex dễ đọc, ví dụ: `00-60-2F-3A-07-BC`.

---

## 7.2.2. Ethernet MAC Address

- **Địa chỉ MAC** là một *
*địa chỉ 48-bit (6 byte)**, được cấp cho **mỗi NIC (Network Interface Card)**.  
- Cấu trúc:  
  - **24-bit đầu (3 byte): OUI (Organizationally Unique Identifier)** → do IEEE cấp cho nhà sản xuất.  
  - **24-bit sau (3 byte): Vendor Assigned** → do nhà sản xuất gán để đảm bảo tính duy nhất.  

> Đây là cách nhằm quản lý khi ngày càng có nhiều thiết bị, cần có quy tắc để đảm bảo tính duy nhất của địa chỉ MAC
Ví dụ:  
- OUI của Cisco: `00-60-2F`  
- Vendor do nhà sản xuất: `3A-07-BC`  
- Địa chỉ MAC đầy đủ: `00-60-2F-3A-07-BC`

> Mỗi thiết bị Ethernet phải có **địa chỉ MAC duy nhất** trong toàn cầu, tuy nhiên vẫn có thể xảy ra trùng lặp do lỗi sản xuất hoặc cấu hình VM.

---

## 7.2.3. Frame Processing

- Địa chỉ MAC thường gọi là **Burned-In Address (BIA)** vì được **ghi cứng vào ROM của NIC**.  
- Khi thiết bị khởi động, NIC **nạp địa chỉ MAC từ ROM vào RAM** để sử dụng.  
- Khi truyền dữ liệu:  
  - **Source MAC** = MAC của thiết bị gửi  
  - **Destination MAC** = MAC của thiết bị nhận  

<p align="center">
  <img src="../../images/kì 1/module 7/7.2.3.gif" width="400"/>
</p>

Quá trình nhận frame:  
1. NIC kiểm tra **Destination MAC** trong header.  
2. Nếu trùng với MAC của nó (hoặc là địa chỉ broadcast/multicast hợp lệ) → nhận gói.  
3. Nếu không → bỏ qua.  

> Điều này đảm bảo rằng chỉ đúng thiết bị (hoặc nhóm) mới xử lý dữ liệu.

---

## 7.2.4. Unicast MAC Address

- **Unicast** = Gửi từ **một nguồn → một đích duy nhất**.  
- Ví dụ: Host `192.168.1.5` yêu cầu web từ server `192.168.1.200`.  
  - **IP đích** = Unicast  
  - **MAC đích** = Unicast  

<p align="center">
  <img src="../../images/kì 1/module 7/7.2.4.gif" width="400"/>
</p>

- Để tìm MAC đích:  
  - IPv4 → dùng **ARP (Address Resolution Protocol)**  
  - IPv6 → dùng **ND (Neighbor Discovery)**  

👉 Unicast là phương thức phổ biến nhất trong truyền thông mạng.

---

## 7.2.5. Broadcast MAC Address

- **Broadcast** = Gửi đến **tất cả thiết bị trong LAN**.  
- Đặc điểm:  
  - Địa chỉ MAC đích: `FF-FF-FF-FF-FF-FF` (48 bit = 1).  
  - Switch sử dụng cơ chế **flood** ra tất cả cổng (trừ cổng nhận).  
  - Router **không chuyển tiếp broadcast**.  

<p align="center">
  <img src="../../images/kì 1/module 7/7.2.5.gif" width="400"/>
</p>

Ví dụ:  
- IPv4 Broadcast: `192.168.1.255`  
- Khi đóng gói, nó gắn với **Broadcast MAC**.  
- Ứng dụng trong: DHCP Discover, ARP Request.  


---

## 7.2.6. Multicast MAC Address

- **Multicast** = Gửi đến **một nhóm thiết bị** trong LAN.  
- Đặc điểm:  
  - IPv4 Multicast MAC bắt đầu bằng `01-00-5E`  
  - IPv6 Multicast MAC bắt đầu bằng `33-33`  
  - Dành cho nhóm thiết bị có chung địa chỉ IP multicast.  
  - Router chỉ forward nếu cấu hình multicast routing.  

<p align="center">
  <img src="../../images/kì 1/module 7/7.2.6.gif" width="400"/>
</p>

Ví dụ:  
- Dải IPv4 multicast gồm: `224.0.0.0 – 239.255.255.255`  
- Dải IPv6 multicast bắt đầu với: `ff00::/8`  
- Ứng dụng trong: routing protocols (OSPF, EIGRP), video streaming, hội nghị truyền hình.  

> Multicast giúp tiết kiệm băng thông khi gửi dữ liệu tới nhiều thiết bị cùng lúc.

---
